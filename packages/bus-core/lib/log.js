require("source-map-support/register"),module.exports=function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=3)}([,,,function(e,r,t){const n=t(6),o=t(4).logsPath;console.log("logsPath",o),n.configure({appenders:{out:{type:"stdout"},result:{type:"dateFile",filename:`${o}/result`,pattern:"-yyyy-MM-dd.log",alwaysIncludePattern:!0,keepFileExt:!0},"result-filter":{type:"logLevelFilter",appender:"result",level:"info",maxLevel:"info"},error:{type:"dateFile",filename:`${o}/error`,pattern:"-yyyy-MM-dd.log",alwaysIncludePattern:!0,keepFileExt:!0},"error-filter":{type:"logLevelFilter",appender:"error",level:"error",maxLevel:"error"}},categories:{default:{appenders:["out"],level:"info"},result:{appenders:["result"],level:"debug"},error:{appenders:["error"],level:"error"}}});var l={},u=n.getLogger("error"),i=n.getLogger("result");l.logError=function(e,r,t){e&&r&&u.error(a(e,r,t))},l.logResponse=function(e,r){e&&i.info(s(e,r))},l.log=function(e){i.info(e)},l.error=function(e){i.error(e)};var s=function(e,r){var t=new String;return t+="\n*************** response log start ***************\n",t+=p(e.request,r),t+="response status: "+e.status+"\n",t+="response body: \n"+JSON.stringify(e.body)+"\n",t+="*************** response log end ***************\n"},a=function(e,r,t){var n=new String;return n+="\n*************** error log start ***************\n",n+="string"==typeof e?"info: "+e:p(e.request,t),n+="err name: "+r.name+"\n",n+="err message: "+r.message+"\n",n+="err stack: "+r.stack+"\n",n+="*************** error log end ***************\n"},p=function(e,r){var t=new String,n=e.method;return t+="request method: "+n+"\n",t+="request originalUrl:  "+e.originalUrl+"\n",t+="request referer:  "+e.header.referer+"\n",t+="request client ip:  "+e.ip+"\n",t+="GET"===n?"request query:  "+JSON.stringify(e.query)+"\n":"request body: \n"+JSON.stringify(e.body)+"\n",t+="response time: "+r+"\n"};e.exports=l},function(e,r,t){const n=t(7),o=n.resolve(process.cwd()),l=n.join(o,"build"),u=n.join(l,"public");e.exports={port:3333,rootPath:o,buildPath:l,publicBuildPath:u,serverSrcPath:n.join(o,"src"),serverBuildPath:l,userNodeModulesPath:n.join(o,"node_modules"),publicPath:"/",logsPath:n.join(o,"logs"),mongodb:{url:"mongodb://localhost:27017/test",options:{}},apiPrefix:"api"}},,function(e,r){e.exports=require("log4js")},function(e,r){e.exports=require("path")}]);
//# sourceMappingURL=log.js.map